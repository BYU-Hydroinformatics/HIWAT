{% extends "hiwat/base.html" %}
{% load tethys_gizmos %}
{% load staticfiles %}

{% block styles %}
{{ block.super }}
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/css/select2.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://openlayers.org/en/v4.3.1/css/ol.css" type="text/css">
<link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
{% endblock %}

{% block global_scripts %}
{{block.super}}
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/js/select2.min.js"></script>
<script src="https://code.highcharts.com/stock/highstock.js"></script>
<script src="https://code.highcharts.com/highcharts-more.js"></script>
<script src="https://code.highcharts.com/stock/modules/exporting.js"></script>
<script src="https://highcharts.github.io/export-csv/export-csv.js"></script>
<script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/chroma-js/1.3.4/chroma.min.js"></script>
<script src="https://openlayers.org/en/v4.3.1/build/ol.js"></script>
{% endblock %}

{% block header_buttons %}
  <div class="header-button glyphicon-button" data-toggle="tooltip" data-placement="bottom" title="Help">
    <a data-toggle="modal" data-target="#help-modal"><span class="glyphicon glyphicon-question-sign"></span></a>
  </div>
{% endblock %}

{% block app_navigation_items %}
<br>
<b>Map Interaction</b>
<select id="types" class="btn btn-xs btn-success" data-width="fit">
    <option value="None">None</option>
    <option value="Point">Point</option>
    <!--<option value="Polygon">Draw Polygon</option>-->
    <!--<option value="country">Select a Country</option>-->
    <!--<option value="adminOne">Select an Admin #1</option>-->
    <!--<option value="adminTwo">Select an Admin #2</option>-->
    <!--<option value="Upload">Upload Shapefile</option>-->
</select>
<br><br>
<b>Coordinates</b>
<div id="mouse-position" class="well well-sm"></div>
<!--<b id="data-name">Value at Clicked Point</b>-->
<!--<div id="mousevalue" class="well well-sm">No Value</div>-->
<br>
{% gizmo select_variable %}
<!--<form id="get-ts" name="get-ts" action="get_ts/" method="POST">-->
    <!--{% csrf_token %}-->
    <input type="text" name="point-lat-lon" id="point-lat-lon" hidden>
    <input type="text" name="poly-lat-lon" id="poly-lat-lon" hidden>
    <input type="text" name="shp-lat-lon" id="shp-lat-lon" hidden>
    <button type="button" id="btn-get-plot" name="btn-get-plot" class="btn btn-default">Get Values</button>
<!--</form>-->
<div class="error"></div>
{% endblock %}

{% block app_content %}
<style>
    #map{
        width:100%;
        height:100%;
    }
</style>
<div id="map" class="map">
    <div id="gee-attr" class="gee-attr ol-unselectable ol-control">
        <div id="current-day" name="current-day" align="center">
        </div>
    </div>
</div>
<div id="popup" class="popup"></div>
{% endblock %}

{# Use the after_app_content block for modals #}
{% block after_app_content %}
<!-- Help Modal -->
<div class="modal fade" id="help-modal" tabindex="-1" role="dialog" aria-labelledby="help-modal-label">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h5 class="modal-title" id="help-modal-label">Help</h5>
            </div>
            <div class="modal-body">
                <h1>Disclaimer:</h1>
                <p>This application is currently in Beta. It is not to be used for any operational purpose.The SERVIR Project, NASA, and USAID, make no express or implied warranty of this application and associated data as to the merchantability or fitness for a particular purpose. Neither the US Government nor its contractors shall be liable for special, consequential or incidental damages attributed to this application and associated data.</p>
                <p><a href="https://servirglobal.net/Privacy-Terms-of-Use" target="_blank">Privacy and Terms of Use</a></p>
                <p>For questions, comments and/or concerns contact sarva.pulla@nasa.gov</p>
            </div>
            <div class="modal-footer">
                <div align="center" id="logos">
                    <div class="logo-image"><a href="http://www.usaid.gov/" target="_blank"><img src="https://servirglobal.net/Portals/_default/Skins/Servir2015/img/usaid.png"></a></div>
                    <div class="logo-image"><a href="http://appliedsciences.nasa.gov/" target="_blank"><img src="https://servirglobal.net/Portals/_default/Skins/Servir2015/img/nasa.png"></a></div>
                    <div class="logo-image"><a href="http://www.cilss.bf/" target="_blank"><img src="https://servirglobal.net/Portals/_default/Skins/Servir2015/img/cilss.png"></a></div>
                    <div class="logo-image"><a href="http://www.rcmrd.org/" target="_blank"><img src="https://servirglobal.net/Portals/_default/Skins/Servir2015/img/rcmrd.png"></a></div>
                    <div class="logo-image"><a href="http://www.icimod.org/" target="_blank"><img src="https://servirglobal.net/Portals/_default/Skins/Servir2015/img/icimod.png"></a></div>
                    <div class="logo-image"><a href="http://www.adpc.net/" target="_blank"><img src="https://servirglobal.net/Portals/_default/Skins/Servir2015/img/adpc.png"></a></div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--Show TS Plot -->
<div class="modal fade" id="chart-modal" tabindex="-1" role="dialog" aria-labelledby="chart-modal-label">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h5 class="modal-title" id="chart-modal-label">Chart</h5>
            </div>
            <div class="modal-body">
                <div class="error"></div>
                <div class="chart-wrapper">
                    <div class="chart-inner" style="width:100%;height:100%;">
                        <div align="center"><img id="view-file-loading" class="view-file hidden" src="/static/hiwat/images/loader.gif" /></div>
                        <div id="plotter" name="plotter" style="height:100%;width:100%" >
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block app_actions %}

{% endblock %}
{% block scripts %}
{{ block.super }}
<script src="{% static 'hiwat/js/hiwat.js' %}" type="text/javascript"></script>
{% endblock %}